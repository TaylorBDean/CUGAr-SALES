"use strict";(self.webpackChunk_carbon_ai_chat_examples_web_components_basic=self.webpackChunk_carbon_ai_chat_examples_web_components_basic||[]).push([[4915],{29496:function(e,n,t){t.d(n,{A:function(){return R}});var o=t(22078),a=t(23108),r=t.n(a),l=t(7378),s=t(3698),i=t.n(s),c=t(14053),d=t(38790),u=t(1182),m=(t(56117),t(32936)),f=t(86100),b=t(92963),g=t(48504),p=t(66866),h=t(36941),y=t(52216),E=t(12669),v=t(90975),C=t(68344),$=t(22595),T=t(41141),k=t(19128),N=(t(21570),t(19033)),_=t(70021),S=t(46317),B=t(62658),A=t(5324),O=t(31455),x=(t(41986),t(65601)),w=t(40948);const R=l.forwardRef(function({"aria-label":e,children:n,className:t,decorator:a,modalHeading:r="",modalLabel:s="",modalAriaLabel:g,passiveModal:S=!1,secondaryButtonText:R,primaryButtonText:H,open:L,onRequestClose:D=k.H,onRequestSubmit:M=k.H,onSecondarySubmit:q,primaryButtonDisabled:P=!1,danger:F,alert:I,secondaryButtons:K,selectorPrimaryFocus:z="[data-modal-primary-focus]",selectorsFloatingMenus:W,shouldSubmitOnEnter:Y,size:j,hasScrollingContent:G=!1,closeButtonLabel:U="Close",preventCloseOnClickOutside:V,isFullWidth:J,launcherButtonRef:Q,loadingStatus:X="inactive",loadingDescription:Z,loadingIconDescription:ee,onLoadingSuccess:ne=k.H,slug:te,...oe},ae){const re=(0,E.M)(),le=(0,l.useRef)(null),se=(0,l.useRef)(null),ie=(0,l.useRef)(null),ce=(0,l.useRef)(null),de=(0,l.useRef)(null),ue=(0,l.useRef)(null),me=(0,l.useRef)(null),[fe,be]=(0,l.useState)(!1),ge=(0,v.S)(L),pe=`modal-${(0,y.Bi)()}`,he=`${re}--modal-header__label--${pe}`,ye=`${re}--modal-header__heading--${pe}`,Ee=`${re}--modal-body--${pe}`,ve=`${re}--modal-close`,Ce=i()({[`${re}--btn--loading`]:"inactive"!==X}),$e="inactive"!==X,Te=(0,N.u)("enable-experimental-focus-wrap-without-sentinels"),ke=(0,N.u)("enable-dialog-element");const Ne=q||D,_e=i()(`${re}--modal`,{[`${re}--modal-tall`]:!S,"is-visible":L,[`${re}--modal--danger`]:F,[`${re}--modal--slug`]:te,[`${re}--modal--decorator`]:a},t),Se=i()(`${re}--modal-container`,{[`${re}--modal-container--${j}`]:j,[`${re}--modal-container--full-width`]:J}),Be=i()(`${re}--modal-content`,{[`${re}--modal-scroll-content`]:G||fe}),Ae=i()(`${re}--modal-footer`,{[`${re}--modal-footer--three-button`]:Array.isArray(K)&&2===K.length}),Oe=e=>"string"==typeof e?e:void 0,xe=Oe(s),we=Oe(r),Re=xe||e||g||we,He=G||fe?{tabIndex:0,role:"region","aria-label":Re,"aria-labelledby":s?he:ye}:{},Le={};I&&S&&(Le.role="alert"),I&&!S&&(Le.role="alertdialog",Le["aria-describedby"]=Ee),(0,l.useEffect)(()=>{if(!L)return;const e=e=>{(0,$.Y)(e,C.uf)&&(e.preventDefault(),e.stopPropagation(),D(e))};return document.addEventListener("keydown",e,!0),()=>{document.removeEventListener("keydown",e,!0)}},[L]),(0,l.useEffect)(()=>()=>{ke||(0,d.p)(document.body,`${re}--body--with-modal-open`,!1)},[re,ke]),(0,l.useEffect)(()=>{ke||(0,d.p)(document.body,`${re}--body--with-modal-open`,L??!1)},[L,re,ke]),(0,l.useEffect)(()=>{!ke&&ge&&!L&&Q&&setTimeout(()=>{"current"in Q&&Q.current?.focus()})},[L,ge,Q,ke]),(0,l.useEffect)(()=>{if(!ke){const e=e=>{const n=e||ce.current,t=n&&(n.querySelector(z)||F&&n.querySelector(`.${re}--btn--secondary`));return t||le&&le.current};L&&(n=>{const t=e(n);null!==t&&t.focus()})(ce.current)}},[L,z,F,re,ke]),(0,h.A)(()=>{ie.current&&be(ie.current.scrollHeight>ie.current.clientHeight);const e=(0,x.s)(function(){ie.current&&be(ie.current.scrollHeight>ie.current.clientHeight)},200);return window.addEventListener("resize",e),()=>{e.cancel(),window.removeEventListener("resize",e)}},[]);const De=te??a,Me=(0,O.Y)(De,A.td)?(0,l.cloneElement)(De,{size:"sm"}):null,qe=l.createElement("div",{className:`${re}--modal-close-button`},l.createElement(T.K,{className:ve,label:U,onClick:D,"aria-label":U,align:"left",ref:le},l.createElement(c.bm,{size:20,"aria-hidden":"true",tabIndex:"-1",className:`${ve}__icon`}))),Pe=I&&!S,Fe=ke?l.createElement(B.lG,{open:L,focusAfterCloseRef:Q,modal:!0,ref:ce,role:Pe?"alertdialog":"","aria-describedby":Pe?Ee:"",className:Se,"aria-label":Re},l.createElement("div",{className:`${re}--modal-header`},s&&l.createElement(w.E,{as:"h2",id:he,className:`${re}--modal-header__label`},s),l.createElement(w.E,{as:"h2",id:ye,className:`${re}--modal-header__heading`},r),a?l.createElement("div",{className:`${re}--modal--inner__decorator`},Me):"",l.createElement("div",{className:`${re}--modal-close-button`},l.createElement(T.K,{className:ve,label:U,onClick:D,"aria-label":U,align:"left",ref:le},l.createElement(c.bm,{size:20,"aria-hidden":"true",tabIndex:"-1",className:`${ve}__icon`})))),l.createElement(b.W,(0,o._P)({ref:ie,id:Ee,className:Be},He),n),!S&&l.createElement(m.A,{className:Ae,"aria-busy":$e},Array.isArray(K)&&K.length<=2?K.map(({buttonText:e,onClick:n},t)=>l.createElement(u.Ay,{key:`${e}-${t}`,kind:"secondary",onClick:n},e)):R&&l.createElement(u.Ay,{disabled:$e,kind:"secondary",onClick:Ne,ref:se},R),l.createElement(u.Ay,{className:Ce,kind:F?"danger":"primary",disabled:$e||P,onClick:M,ref:le},"inactive"===X?H:l.createElement(f.A,{status:X,description:Z,iconDescription:ee,className:`${re}--inline-loading--btn`,onSuccess:ne})))):l.createElement(l.Fragment,null,!ke&&!Te&&l.createElement("span",{ref:de,tabIndex:0,role:"link",className:`${re}--visually-hidden`},"Focus sentinel"),l.createElement("div",(0,o._P)({ref:ce,role:"dialog"},Le,{className:Se,"aria-label":Re,"aria-modal":"true",tabIndex:-1}),l.createElement("div",{className:`${re}--modal-header`},S&&qe,s&&l.createElement(w.E,{as:"h2",id:he,className:`${re}--modal-header__label`},s),l.createElement(w.E,{as:"h2",id:ye,className:`${re}--modal-header__heading`},r),te?Me:a?l.createElement("div",{className:`${re}--modal--inner__decorator`},Me):"",!S&&qe),l.createElement(b.W,(0,o._P)({ref:ie,id:Ee,className:Be},He),n),!S&&l.createElement(m.A,{className:Ae,"aria-busy":$e},Array.isArray(K)&&K.length<=2?K.map(({buttonText:e,onClick:n},t)=>l.createElement(u.Ay,{key:`${e}-${t}`,kind:"secondary",onClick:n},e)):R&&l.createElement(u.Ay,{disabled:$e,kind:"secondary",onClick:Ne,ref:se},R),l.createElement(u.Ay,{className:Ce,kind:F?"danger":"primary",disabled:$e||P,onClick:M,ref:le},"inactive"===X?H:l.createElement(f.A,{status:X,description:Z,iconDescription:ee,className:`${re}--inline-loading--btn`,onSuccess:ne})))),!ke&&!Te&&l.createElement("span",{ref:ue,tabIndex:0,role:"link",className:`${re}--visually-hidden`},"Focus sentinel"));return l.createElement(b.W,(0,o._P)({},oe,{level:0,onKeyDown:function(e){const{target:n}=e;var t;e.stopPropagation(),L&&n instanceof HTMLElement&&((0,$.Y)(e,C.xy)&&Y&&(t=n,(q||t!==se.current)&&!t.classList.contains(ve))&&document.activeElement!==le.current&&M(e),Te&&!ke&&(0,$.Y)(e,C.oz)&&ce.current&&(0,p.MG)({containerNode:ce.current,currentActiveNode:n,event:e}))},onClick:(0,_.m)([oe?.onClick,function(e){const{target:n}=e;e.stopPropagation(),(S&&!V||!S&&!1===V)&&n instanceof Node&&!(0,p.jo)(n,W)&&ce.current&&!ce.current.contains(n)&&D(e)}]),onBlur:function({target:e,relatedTarget:n}){if(!ke&&L&&e instanceof HTMLElement&&n instanceof HTMLElement){const{current:t}=ce,{current:o}=de,{current:a}=ue;me.current=setTimeout(()=>{(0,p.Vp)({bodyNode:t,startTrapNode:o,endTrapNode:a,currentActiveNode:n,oldActiveNode:e,selectorsFloatingMenus:W}),me.current&&clearTimeout(me.current)})}const t=document.querySelector(`.${re}--modal-content`);if(!(t&&t.classList.contains(`${re}--modal-scroll-content`)&&n&&t.contains(n)))return;const o=t.children[t.children.length-1],a=t.scrollHeight-o.offsetTop-o.clientHeight;for(let e of t.children)if(e.contains(n)){const n=t.clientHeight-e.offsetTop+t.scrollTop-e.clientHeight;n<a&&(t.scrollTop=t.scrollTop+(a-n));break}},className:_e,role:"presentation",ref:ae}),Fe)});R.propTypes={alert:r().bool,"aria-label":(0,g.A)("hasScrollingContent",r().string),children:r().node,className:r().string,closeButtonLabel:r().string,danger:r().bool,decorator:r().node,hasScrollingContent:r().bool,id:r().string,isFullWidth:r().bool,launcherButtonRef:r().oneOfType([r().func,r().shape({current:r().oneOfType(["undefined"!=typeof HTMLButtonElement?r().instanceOf(HTMLButtonElement):r().any,r().oneOf([null])]).isRequired})]),loadingDescription:r().string,loadingIconDescription:r().string,loadingStatus:r().oneOf(["inactive","active","finished","error"]),modalAriaLabel:r().string,modalHeading:r().node,modalLabel:r().node,onKeyDown:r().func,onLoadingSuccess:r().func,onRequestClose:r().func,onRequestSubmit:r().func,onSecondarySubmit:r().func,open:r().bool,passiveModal:r().bool,preventCloseOnClickOutside:(e,n)=>e.passiveModal||!1!==e[n]?null:new Error("`<Modal>` prop `preventCloseOnClickOutside` should not be `false` when `passiveModal` is `false`. Transactional, non-passive Modals should not be dissmissable by clicking outside. See: https://carbondesignsystem.com/components/modal/usage/#transactional-modal"),primaryButtonDisabled:r().bool,primaryButtonText:r().node,secondaryButtonText:r().node,secondaryButtons:(e,n,t)=>{if(e.secondaryButtons){if(!Array.isArray(e.secondaryButtons)||2!==e.secondaryButtons.length)return new Error(`${n} needs to be an array of two button config objects`);const o={buttonText:r().node,onClick:r().func};e[n].forEach(e=>{r().checkPropTypes(o,e,n,t)})}return null},selectorPrimaryFocus:r().string,selectorsFloatingMenus:r().arrayOf(r().string.isRequired),shouldSubmitOnEnter:r().bool,size:r().oneOf(["xs","sm","md","lg"]),slug:(0,S.C)(r().node,"The `slug` prop has been deprecated and will be removed in the next major version. Use the decorator prop instead.")}},72226:function(e,n,t){var o=t(22078),a=t(23108),r=t.n(a),l=t(7378),s=t(29496),i=t(1182),c=(t(56117),t(41986),t(19128)),d=t(68344),u=t(22595);let m=!1;class f extends l.Component{constructor(...e){super(...e),(0,o.n8)(this,"triggerButton",l.createRef()),(0,o.n8)(this,"modal",l.createRef()),(0,o.n8)(this,"state",{isOpen:!1}),(0,o.n8)(this,"handleOpen",()=>{this.setState({isOpen:!0})}),(0,o.n8)(this,"handleClose",e=>{const n=this.modal.current?.querySelector("div");this.modal.current&&e&&!n?.contains(e.target)&&this.props.preventCloseOnClickOutside||this.setState({isOpen:!1},()=>this.triggerButton.current?.focus())}),(0,o.n8)(this,"handleOnRequestSubmit",e=>{const{handleSubmit:n,shouldCloseAfterSubmit:t}=this.props;n&&t&&(n(e),this.handleClose(e)),n?.(e)})}if(e){m=!0}render(){const{children:e,onKeyDown:n=c.H,buttonTriggerText:t,buttonTriggerClassName:a,renderTriggerButtonIcon:r,primaryButtonText:m="Save",secondaryButtonText:f="Cancel",triggerButtonIconDescription:b="Provide icon description if icon is used",triggerButtonKind:g="primary",disabled:p=!1,handleSubmit:h,shouldCloseAfterSubmit:y=!0,selectorPrimaryFocus:E="[data-modal-primary-focus]",preventCloseOnClickOutside:v=!1,...C}=this.props,$={...C,selectorPrimaryFocus:E,open:this.state.isOpen,onRequestClose:this.handleClose,onRequestSubmit:this.handleOnRequestSubmit};return l.createElement("div",{role:"presentation",onKeyDown:e=>{(0,u.Y)(e,d.uf)&&(this.handleClose(e),n(e))}},l.createElement(i.Ay,{className:a,disabled:p,kind:g,renderIcon:r,iconDescription:b,onClick:this.handleOpen,ref:this.triggerButton},t),l.createElement(s.A,(0,o._P)({ref:this.modal,primaryButtonText:m,secondaryButtonText:f},$),e))}}(0,o.n8)(f,"propTypes",{buttonTriggerClassName:r().string,buttonTriggerText:r().node,children:r().node,disabled:r().bool,handleOpen:r().func,handleSubmit:r().func,id:r().string,modalBeforeContent:r().bool,modalHeading:r().string,modalLabel:r().string,modalText:r().string,onKeyDown:r().func,passiveModal:r().bool,preventCloseOnClickOutside:r().bool,primaryButtonText:r().string,renderTriggerButtonIcon:r().oneOfType([r().func,r().object]),secondaryButtonText:r().string,selectorPrimaryFocus:r().string,shouldCloseAfterSubmit:r().bool,status:r().string,triggerButtonIconDescription:r().string,triggerButtonKind:r().oneOf(i.Sq),withHeader:r().bool})}}]);